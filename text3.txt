import React, { useState, useEffect } from "react";
import './signin.css';

// Correcting image imports for the SignIn slider
import slide1 from "/src/assets/insta/insta1.jpg";
import slide2 from "/src/assets/insta/insta2.jpg";
import slide3 from "/src/assets/insta/insta 3.jpg";

const SignIn = () => {
  const [slideIndex, setSlideIndex] = useState(0);

  const slides = [
    {
      image: slide1,
      heading: "Welcome to MyCap Store",
      text: "Find the Cap that fits your style",
    },
    {
      image: slide2,
      heading: "Explore Our Collection",
      text: "Caps for every occasion",
    },
    {
      image: slide3,
      heading: "Style Meets Comfort",
      text: "Discover your perfect cap today",
    },
  ];

  // Auto slide every 2 seconds
  useEffect(() => {
    const interval = setInterval(() => {
      setSlideIndex((prevIndex) => (prevIndex + 1) % slides.length);
    }, 2000); // Change slide every 2 seconds

    return () => clearInterval(interval); // Clean up the interval on unmount
  }, [slides.length]);

  return (
    <div className="signin-container">
      {/* Left Section */}
      <div className="signin-left">
        <div className="signin-logo">
          <img src="/src/assets/main logo.jpg" alt="Logo" className="logo" />
          <h1>MYCAP STORE</h1>
        </div>
        <h2>Create account</h2>
        <button className="google-signin">
          <img src="/src/assets/google.jpg" alt="Google Logo" className="google-logo" />
          Sign up with Google
        </button>
        <div className="separator">
          <hr />
          <span>OR</span>
          <hr />
        </div>
        <form className="signin-form">
          <div className="form-group">
            <label>Full Name</label>
            <input type="text" placeholder="Enter your fullname" required />
          </div>
          <div className="form-group">
            <label>Email</label>
            <input type="email" placeholder="Enter your Email" required />
          </div>
          <div className="form-group">
            <label>Password</label>
            <input type="password" placeholder="Enter your password" required />
            <small>Must be at least 8 characters.</small>
          </div>
          <button type="submit" className="confirm-button">
            Confirm
          </button>
        </form>
        <p className="signin-footer">
          Already have an account? <a href="/login">Log in</a>
        </p>
      </div>

      {/* Right Section (Slider) */}
      <div className="signin-right">
        <div className="slider">
          {slides.map((slide, index) => (
            <div
              key={index}
              className={`slider-item ${index === slideIndex ? "active" : ""}`}
            >
              <img
                src={slide.image}
                alt={`Slide ${index + 1}`}
                className={`slider-image ${index === (slideIndex + 1) % slides.length ? "next" : ""}`}
              />
              <div className="slider-text">
                <h1>{slide.heading}</h1>
                <p>{slide.text}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

export default SignIn;
